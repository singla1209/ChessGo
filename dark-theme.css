:root {
  --light: #258bff;
  --dark: #212242;
  --accent: #63ffd4;
  --capture: #f0544f;
  --select: #fee140ee;
  --darkg: #fbab7e;
  --grid: 56px;
}

/* ========== BASE STYLES ========== */
* {
  box-sizing: border-box;
  transition: background-color 0.3s, color 0.3s;
}

body {
  margin: 0;
  padding: 6px 12px 12px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #eef8fa;
  background: radial-gradient(circle at 48% 18%, #393e54 40%, #212242 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

/* ========== BRAND/LOGO ========== */
#brand {
  margin: 18px auto 6px auto;
  padding: 0;
  line-height: 1;
  color: var(--accent);
  text-shadow: 0 0 16px var(--accent), 0 2px 11px #fee14077;
}

#brand img {
  margin-top: 20px;
  width: 150px;
  height: auto;
  filter: drop-shadow(0 0 18px var(--accent));
}

/* ========== HIGHLIGHT TEXT (Turn/Status) ========== */
.highlight-text {
  display: inline-block;
  width: 300px;
  background: linear-gradient(90deg, #fee140 0%, #63ffd4 100%);
  color: #212242;
  text-align: center;
  padding: 10px 12px;
  border-radius: 18px;
  margin: 12px 0;
  font-size: 16px;
  font-weight: 700;
  box-shadow: 0 3px 16px var(--accent), 0 4px 22px #fee14033;
  letter-spacing: 0.4px;
}

/* ========== AI LEVEL BUTTONS ========== */
.ai-level-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  margin: 8px auto;
  padding: 4px 9px;
  background: #212242ee;
  border-radius: 13px;
  box-shadow: inset 0 0 15px #258bff88;
}

.ai-level-container label {
  font-weight: 700;
  color: var(--accent);
  font-size: 15px;
}

.ai-level-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: nowrap;
}

.ai-btn {
  padding: 7px 15px;
  border: 2px solid var(--accent);
  background: linear-gradient(90deg, #b2fefa 0%, #63ffd4 100%);
  color: #212242;
  border-radius: 14px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 800;
  white-space: nowrap;
  transition: box-shadow 0.25s, color 0.25s, transform 0.18s;
  box-shadow: 0 2px 13px #63ffd499;
}

.ai-btn:hover {
  background: linear-gradient(90deg, #fee140 0%, #fbab7e 100%);
  color: #34243a;
  transform: scale(1.09);
}

.ai-btn.active {
  background: linear-gradient(90deg, #fee140 0%, #fa709a 100%);
  color: #080b12;
  box-shadow: 0 0 18px var(--accent);
  border-color: #fee140;
}

/* ========== TOP BUTTON BAR ========== */
.top-bar {
  display: flex;
  gap: 18px;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  margin: 24px auto 16px auto;
  font-weight: 700;
  color: #212242;
  text-shadow: 0 0 11px var(--accent);
  width: 100%;
  max-width: 900px;
  flex-wrap: wrap;
}

.button {
  padding: 16px 34px;
  border: none;
  border-radius: 16px;
  color: #212242;
  font: 800 16px/1.18 'Segoe UI', sans-serif;
  background: linear-gradient(90deg, #f9fbe7 0%, #ffc859 65%, #ffe53b 100%);
  box-shadow: 0 6px 22px #63ffd488, inset 0 1px 0 #ffc459;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 7px;
  min-width: 138px;
  min-height: 62px;
  transition: transform 0.16s, box-shadow 0.19s;
}

.button:hover, .button:focus {
  transform: translateY(-3px) scale(1.07);
  filter: saturate(1.19);
  box-shadow: 0 11px 32px #fee14055, 0 0 19px #63ffd4bb, inset 0 1px 0 #fee140;
}

.button:active {
  transform: none;
  box-shadow: 0 3px 9px #b47500bb;
}

.button i {
  font-size: 19px;
  color: #323232;
}

.label {
  color: #222;
  font-size: 12px;
  font-weight: 900;
  text-align: center;
  letter-spacing: 0.6px;
  line-height: 1.05;
  margin-top: 2px;
}

/* ========== CHESSBOARD ========== */
#chessboard {
  display: grid;
  grid-template-columns: repeat(8, var(--grid));
  grid-template-rows: repeat(8, var(--grid));
  gap: 5px;
  background: linear-gradient(135deg, #314869 0%, #258bff 100%);
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 6px 30px #63ffd4cc;
  margin: 18px auto 0px auto;
  user-select: none;
}

.square {
  width: var(--grid);
  height: var(--grid);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 38px;
  position: relative;
  border-radius: 8px;
  transition: background 0.44s, box-shadow 0.25s;
  line-height: 1;
}

.square.light {
  background: linear-gradient(148deg, #f0f4f8 65%, #b9c6e6 100%);
  box-shadow: inset 0 0 13px #b2fefa55;
}

.square.dark {
  background: linear-gradient(146deg, #bccbe2 48%, #314869 100%);
  box-shadow: inset 0 0 8px #258bffbb;
}

.square.selected {
  outline: 3.5px solid var(--select);
  outline-offset: -3px;
  box-shadow: 0 0 20px var(--select);
}

.square.last-move {
  outline: 3.5px solid var(--darkg);
  outline-offset: -3px;
  box-shadow: 0 0 19px var(--darkg);
}

/* ========== PIECES ========== */
.piece {
  width: 90%;
  height: 90%;
  cursor: pointer;
  filter: drop-shadow(0 2px 6px #212242aa);
  transition: filter 0.26s, transform 0.18s;
  user-select: none;
}

.piece.white {
  filter: drop-shadow(0 0 8px #fee140bb);
}

.piece.black {
  filter: drop-shadow(0 0 14px #63ffd4bb);
}

.piece:hover {
  transform: scale(1.15);
  filter: drop-shadow(0 0 16px var(--accent));
}

/* ========== HINTS (Move/Capture Indicators) ========== */
.square .hint {
  position: absolute;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  pointer-events: none;
  opacity: 0.91;
}

.square .hint.move {
  background: radial-gradient(circle at 48% 48%, var(--accent) 0 11px, transparent 12px);
  box-shadow: 0 0 8px var(--accent);
}

.square .hint.capture {
  width: calc(var(--grid) - 14px);
  height: calc(var(--grid) - 14px);
  border: 3.7px solid var(--capture);
  background: transparent;
  box-shadow: 0 0 16px var(--capture);
}

/* ========== KING IN CHECK (Amber Pulse Animation) ========== */
.square.king-in-check {
  --danger: #fbab7e;
  --danger2: #f0544f;
  position: relative;
  animation: amberPulse 1.1s ease-in-out infinite;
}

.square.king-in-check::after {
  content: "";
  position: absolute;
  inset: 0;
  box-shadow:
    inset 0 0 0 3px rgba(250, 171, 126, 0.85),
    inset 0 0 18px 8px rgba(250, 171, 126, 0.30);
  pointer-events: none;
  animation: amberRing 1.1s ease-in-out infinite;
}

@keyframes amberPulse {
  0%, 100% { background-color: var(--danger); }
  50% { background-color: var(--danger2); }
}

@keyframes amberRing {
  0%, 100% {
    box-shadow:
      inset 0 0 0 3px rgba(250, 171, 126, 0.9),
      inset 0 0 18px 8px rgba(250, 171, 126, 0.3);
  }
  50% {
    box-shadow:
      inset 0 0 0 9px rgba(250, 171, 126, 0.58),
      inset 0 0 26px 14px rgba(250, 171, 126, 0.20);
  }
}

@media (prefers-reduced-motion: reduce) {
  .square.king-in-check { animation: none; }
  .square.king-in-check::after { animation: none; }
}

/* ========== CAPTURED PIECES TRAY ========== */
.captured-panel {
  width: 85%;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
  justify-content: center;
  gap: 6px;
  padding: 8px;
  border-radius: 12px;
  background: linear-gradient(90deg, #b2fefa 0%, #63ffd4 100%);
  box-shadow: 0 0 14px #31486977;
  user-select: none;
  pointer-events: none;
}

/* ========== LEGEND ========== */
.legend {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  color: #fffbe4;
  margin: 13px 0;
}

.legend .dot {
  display: inline-block;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  margin-right: 4px;
  vertical-align: middle;
  box-shadow: 0 0 7px #fee140bb;
}

.legend .move { background: var(--accent); }
.legend .capture { background: var(--capture); }
.legend .selected {
  background: var(--select);
  border: 1.9px solid #f0544f;
  box-shadow: 0 0 6px #f0544f66;
}

/* ========== PAWN PROMOTION OVERLAY ========== */
.promo-overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(112deg, #212242e0, #63ffd4cc);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.promo-box {
  background: #f9fbe7;
  color: #212242;
  border-radius: 20px;
  padding: 26px 38px;
  min-width: 280px;
  box-shadow: 0 10px 32px #fee140bb;
  font-weight: 800;
  text-align: center;
}

.promo-title {
  font-weight: 900;
  margin-bottom: 24px;
  font-size: 19px;
  letter-spacing: 0.3px;
}

.promo-buttons {
  display: flex;
  gap: 26px;
  justify-content: center;
}

.promo-btn {
  padding: 11px 25px;
  border: 2px solid var(--accent);
  background: linear-gradient(90deg, #b2fefa 0%, #63ffd4 100%);
  border-radius: 13px;
  color: #212242;
  cursor: pointer;
  font-weight: 800;
  font-size: 16px;
  box-shadow: 0 1.5px 7px #63ffd4aa;
  transition: background 0.18s, color 0.18s;
}

.promo-btn:hover, .promo-btn:focus {
  background: linear-gradient(90deg, #fee140 0%, #fbab7e 100%);
  color: #080b12;
}


@media (max-width: 560px) {
  :root { --grid: 42px; }
  .square { font-size: 26px; }
  body { padding: 4px 6px 6px; }
  #brand img { width: 120px; }
  .button { padding: 9px 4px; font-size: 14px; min-width: 90px; min-height: 37px; }
  .button i { font-size: 15px; }
  .label { font-size: 10px; }
  .ai-btn { padding: 5px 9px; font-size: 12px; }
  .top-bar { flex-direction: row; gap: 8px; margin: 8px auto; }
  .promo-box { padding: 17px; min-width: unset; }
  .promo-title { margin-bottom: 13px; font-size: 15px; }
  .promo-buttons { gap: 16px; }
}

/* Extra piece highlighting for color distinction */
.piece.white {
  filter: drop-shadow(0 0 12px #fee140aa);
}

.piece.black {
  filter: drop-shadow(0 0 24px #258bff99);
}
